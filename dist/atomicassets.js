var atomicassets;(()=>{var t={751:function(t){"use strict";var e,r,n,i,a,o,s,u,c,l,p,h,f=!1;function d(t,e,r){var n=t[e++],i=t[e++],a=t[e++],o=t[e];return"bige"===r?256*(256*(256*n+i)+a)+o:256*(256*(256*o+a)+i)+n}function y(t,e,r,n){var i=e>>>24&255,a=e>>16&255,o=e>>8&255,s=255&e;"bige"===n?(t[r++]=i,t[r++]=a,t[r++]=o,t[r]=s):(t[r++]=s,t[r++]=o,t[r++]=a,t[r]=i)}function m(t,e,r,n,i){"bige"===i?(y(t,e,n,i),y(t,r,n+4,i)):(y(t,r,n,i),y(t,e,n+4,i))}"function"==typeof Float32Array&&(c=new Float32Array(1),l=new Uint8Array(c.buffer),c[0]=-1,f=0===l[3],e=function(t,e){return(e=e||0)<0||e+4>t.length?0:(l[0]=t[e++],l[1]=t[e++],l[2]=t[e++],l[3]=t[e],c[0])},n=function(t,e){return(e=e||0)<0||e+4>t.length?0:(l[3]=t[e++],l[2]=t[e++],l[1]=t[e++],l[0]=t[e],c[0])},r=function(t,e,r){r=r||0,c[0]=e,t[r++]=l[0],t[r++]=l[1],t[r++]=l[2],t[r]=l[3]},i=function(t,e,r){r=r||0,c[0]=e,t[r++]=l[3],t[r++]=l[2],t[r++]=l[1],t[r]=l[0]}),"function"==typeof Float64Array&&(p=new Float64Array(1),h=new Uint8Array(p.buffer),a=function(t,e){return(e=e||0)<0||e+8>t.length?0:(h[0]=t[e+0],h[1]=t[e+1],h[2]=t[e+2],h[3]=t[e+3],h[4]=t[e+4],h[5]=t[e+5],h[6]=t[e+6],h[7]=t[e+7],p[0])},s=function(t,e){return(e=e||0)<0||e+8>t.length?0:(h[7]=t[e+0],h[6]=t[e+1],h[5]=t[e+2],h[4]=t[e+3],h[3]=t[e+4],h[2]=t[e+5],h[1]=t[e+6],h[0]=t[e+7],p[0])},o=function(t,e,r){r=r||0,p[0]=e,t[r+0]=h[0],t[r+1]=h[1],t[r+2]=h[2],t[r+3]=h[3],t[r+4]=h[4],t[r+5]=h[5],t[r+6]=h[6],t[r+7]=h[7]},u=function(t,e,r){r=r||0,p[0]=e,t[r+0]=h[7],t[r+1]=h[6],t[r+2]=h[5],t[r+3]=h[4],t[r+4]=h[3],t[r+5]=h[2],t[r+6]=h[1],t[r+7]=h[0]});for(var v=new Array,w=0;w<1200;w++)v[w]=Math.pow(2,w);var _=new Array;for(w=0;w<1200;w++)_[w]=Math.pow(2,-w);function g(t){return t>=0?v[t]:_[-t]}function b(t,e,r){var n,i,a=d(t,e,r),o=d(t,e+4,r);"bige"===r?(n=a,i=o):(n=o,i=a);var s=4294967296*(1048575&n)+i,u=(2146435072&n)>>>20;return(n>>31||1)*(0===u?s?s*g(-1074):0:u<2047?s>=0?(1+2220446049250313e-31*s)*g(u-1023):0:s?NaN:1/0)}g(-1023);var A=Math.pow(2,-23),E=Math.pow(2,-127);function M(t,e,r){var n=d(t,e,r),i=8388607&n,a=(2139095040&n)>>>23;return(n>>31||1)*(0===a?i?i*A*2*E:0:a<255?(1+i*A)*g(a-127):i?NaN:1/0)}var O={exp:0,mant:0};function S(t){var e=0;return t>=2?(t*=g(-(e=P(1,t))))>=2&&(t/=2,e+=1):t<1&&((e=P(t,2))<=1023?t*=g(e):(t*=g(e-100),t*=g(100)),e=-e),O.exp=e,O.mant=t,O}var z=Math.pow(2,192);function P(t,e){for(var r=0;t*z<e;)t*=z,r+=192;for(;0x10000000000000000*t<e;)t*=0x10000000000000000,r+=64;for(;65536*t<e;)t*=65536,r+=16;for(;64*t<e;)t*=64,r+=6;for(;2*t<e;)t*=2,r+=1;return r}function x(t,e){return(t*=e)-Math.floor(t)!=.5||1&t?t+.5:t}function j(t,e,r,n){var i,a=0;e<0&&(a=2147483648,e=-e),e&&e<1/0?((i=S(e)).exp+=127,i.exp<=0?i.exp<=-25?(i.mant=0,i.exp=0):(i.mant=x(i.mant,g(22+i.exp)),i.exp=0,i.mant>=8388608&&(i.mant-=8388608,i.exp+=1)):(i.mant=x(i.mant-1,8388608),i.mant>=8388608&&(i.mant-=8388608,i.exp+=1),i.exp>254&&(i.mant=0,i.exp=255)),y(t,a|i.exp<<23|i.mant,r,n)):y(t,0===e?1/e<0?2147483648:0:e===1/0?2139095040|a:2143289344,r,n)}new Uint8Array(8);var q=Math.pow(2,52);function k(t,e,r,n){var i,a,o,s=0;e<0&&(s=2147483648,e=-e),e&&e<1/0?((i=S(e)).exp+=1023,i.exp<=0?(i.mant*=g(51+i.exp),i.exp=0):i.mant=(i.mant-1)*q,m(t,a=s|i.exp<<20|i.mant/4294967296,o=i.mant>>>0,r,n)):(0===e?(a=1/e<0?2147483648:0,o=0):e===1/0?(a=s+2146435072,o=0):(a=2146959360,o=0),m(t,a,o,r,n))}(function c(){var l=t.exports||this;l.readWord=d,l.writeWord=y,l.writeDoubleWord=m,l.readFloat=M,l.writeFloat=j,l.readDouble=b,l.writeDouble=k,l._useFloatArray=function(t){l._usingFloatArray=t,t?("full"==t&&(l.readFloatLE=f?n:e),l.writeFloatLE=f?i:r,"full"==t&&(l.readFloatBE=f?e:n),l.writeFloatBE=f?r:i,l.readDoubleLE=f?s:a,l.writeDoubleLE=f?u:o,l.readDoubleBE=f?a:s,l.writeDoubleBE=f?o:u):(l._usingFloatArray="",l.readFloatLE=function(t,e){return l.readFloat(t,e||0,"le")},l.writeFloatLE=function(t,e,r){l.writeFloat(t,e,r||0,"le")},l.readFloatBE=function(t,e){return l.readFloat(t,e||0,"bige")},l.writeFloatBE=function(t,e,r){l.writeFloat(t,e,r||0,"bige")},l.readDoubleLE=function(t,e){return l.readDouble(t,e||0,"le")},l.writeDoubleLE=function(t,e,r){l.writeDouble(t,e,r||0,"le")},l.readDoubleBE=function(t,e){return l.readDouble(t,e||0,"bige")},l.writeDoubleBE=function(t,e,r){l.writeDouble(t,e,r||0,"bige")})},l._getBigeCpu=function(){return f},l._setBigeCpu=function(t){f=t},l._useFloatArray(!1),l._useFloatArray(e&&a&&"fastest"),c.prototype=l}).call(this)},736:(t,e,r)=>{var n;t=r.nmd(t);var i=function(t){"use strict";var e=1e7,r=9007199254740992,n=h(r),a="0123456789abcdefghijklmnopqrstuvwxyz",o="function"==typeof BigInt;function s(t,e,r,n){return void 0===t?s[0]:void 0===e||10==+e&&!r?V(t):Z(t,e,r,n)}function u(t,e){this.value=t,this.sign=e,this.isSmall=!1}function c(t){this.value=t,this.sign=t<0,this.isSmall=!0}function l(t){this.value=t}function p(t){return-r<t&&t<r}function h(t){return t<1e7?[t]:t<1e14?[t%1e7,Math.floor(t/1e7)]:[t%1e7,Math.floor(t/1e7)%1e7,Math.floor(t/1e14)]}function f(t){d(t);var r=t.length;if(r<4&&j(t,n)<0)switch(r){case 0:return 0;case 1:return t[0];case 2:return t[0]+t[1]*e;default:return t[0]+(t[1]+t[2]*e)*e}return t}function d(t){for(var e=t.length;0===t[--e];);t.length=e+1}function y(t){for(var e=new Array(t),r=-1;++r<t;)e[r]=0;return e}function m(t){return t>0?Math.floor(t):Math.ceil(t)}function v(t,r){var n,i,a=t.length,o=r.length,s=new Array(a),u=0,c=e;for(i=0;i<o;i++)u=(n=t[i]+r[i]+u)>=c?1:0,s[i]=n-u*c;for(;i<a;)u=(n=t[i]+u)===c?1:0,s[i++]=n-u*c;return u>0&&s.push(u),s}function w(t,e){return t.length>=e.length?v(t,e):v(e,t)}function _(t,r){var n,i,a=t.length,o=new Array(a),s=e;for(i=0;i<a;i++)n=t[i]-s+r,r=Math.floor(n/s),o[i]=n-r*s,r+=1;for(;r>0;)o[i++]=r%s,r=Math.floor(r/s);return o}function g(t,r){var n,i,a=t.length,o=r.length,s=new Array(a),u=0,c=e;for(n=0;n<o;n++)(i=t[n]-u-r[n])<0?(i+=c,u=1):u=0,s[n]=i;for(n=o;n<a;n++){if(!((i=t[n]-u)<0)){s[n++]=i;break}i+=c,s[n]=i}for(;n<a;n++)s[n]=t[n];return d(s),s}function b(t,r,n){var i,a,o=t.length,s=new Array(o),l=-r,p=e;for(i=0;i<o;i++)a=t[i]+l,l=Math.floor(a/p),a%=p,s[i]=a<0?a+p:a;return"number"==typeof(s=f(s))?(n&&(s=-s),new c(s)):new u(s,n)}function A(t,r){var n,i,a,o,s=t.length,u=r.length,c=y(s+u),l=e;for(a=0;a<s;++a){o=t[a];for(var p=0;p<u;++p)n=o*r[p]+c[a+p],i=Math.floor(n/l),c[a+p]=n-i*l,c[a+p+1]+=i}return d(c),c}function E(t,r){var n,i,a=t.length,o=new Array(a),s=e,u=0;for(i=0;i<a;i++)n=t[i]*r+u,u=Math.floor(n/s),o[i]=n-u*s;for(;u>0;)o[i++]=u%s,u=Math.floor(u/s);return o}function M(t,e){for(var r=[];e-- >0;)r.push(0);return r.concat(t)}function O(t,e){var r=Math.max(t.length,e.length);if(r<=30)return A(t,e);r=Math.ceil(r/2);var n=t.slice(r),i=t.slice(0,r),a=e.slice(r),o=e.slice(0,r),s=O(i,o),u=O(n,a),c=O(w(i,n),w(o,a)),l=w(w(s,M(g(g(c,s),u),r)),M(u,2*r));return d(l),l}function S(t,r,n){return new u(t<e?E(r,t):A(r,h(t)),n)}function z(t){var r,n,i,a,o=t.length,s=y(o+o),u=e;for(i=0;i<o;i++){n=0-(a=t[i])*a;for(var c=i;c<o;c++)r=a*t[c]*2+s[i+c]+n,n=Math.floor(r/u),s[i+c]=r-n*u;s[i+o]=n}return d(s),s}function P(t,e){var r,n,i,a,o=t.length,s=y(o);for(i=0,r=o-1;r>=0;--r)i=(a=1e7*i+t[r])-(n=m(a/e))*e,s[r]=0|n;return[s,0|i]}function x(t,r){var n,i=V(r);if(o)return[new l(t.value/i.value),new l(t.value%i.value)];var a,p=t.value,v=i.value;if(0===v)throw new Error("Cannot divide by zero");if(t.isSmall)return i.isSmall?[new c(m(p/v)),new c(p%v)]:[s[0],t];if(i.isSmall){if(1===v)return[t,s[0]];if(-1==v)return[t.negate(),s[0]];var w=Math.abs(v);if(w<e){a=f((n=P(p,w))[0]);var _=n[1];return t.sign&&(_=-_),"number"==typeof a?(t.sign!==i.sign&&(a=-a),[new c(a),new c(_)]):[new u(a,t.sign!==i.sign),new c(_)]}v=h(w)}var b=j(p,v);if(-1===b)return[s[0],t];if(0===b)return[s[t.sign===i.sign?1:-1],s[0]];n=p.length+v.length<=200?function(t,r){var n,i,a,o,s,u,c,l=t.length,p=r.length,h=e,d=y(r.length),m=r[p-1],v=Math.ceil(h/(2*m)),w=E(t,v),_=E(r,v);for(w.length<=l&&w.push(0),_.push(0),m=_[p-1],i=l-p;i>=0;i--){for(n=h-1,w[i+p]!==m&&(n=Math.floor((w[i+p]*h+w[i+p-1])/m)),a=0,o=0,u=_.length,s=0;s<u;s++)a+=n*_[s],c=Math.floor(a/h),o+=w[i+s]-(a-c*h),a=c,o<0?(w[i+s]=o+h,o=-1):(w[i+s]=o,o=0);for(;0!==o;){for(n-=1,a=0,s=0;s<u;s++)(a+=w[i+s]-h+_[s])<0?(w[i+s]=a+h,a=0):(w[i+s]=a,a=1);o+=a}d[i]=n}return w=P(w,v)[0],[f(d),f(w)]}(p,v):function(t,r){for(var n,i,a,o,s,u=t.length,c=r.length,l=[],p=[],h=e;u;)if(p.unshift(t[--u]),d(p),j(p,r)<0)l.push(0);else{a=p[(i=p.length)-1]*h+p[i-2],o=r[c-1]*h+r[c-2],i>c&&(a=(a+1)*h),n=Math.ceil(a/o);do{if(j(s=E(r,n),p)<=0)break;n--}while(n);l.push(n),p=g(p,s)}return l.reverse(),[f(l),f(p)]}(p,v),a=n[0];var A=t.sign!==i.sign,M=n[1],O=t.sign;return"number"==typeof a?(A&&(a=-a),a=new c(a)):a=new u(a,A),"number"==typeof M?(O&&(M=-M),M=new c(M)):M=new u(M,O),[a,M]}function j(t,e){if(t.length!==e.length)return t.length>e.length?1:-1;for(var r=t.length-1;r>=0;r--)if(t[r]!==e[r])return t[r]>e[r]?1:-1;return 0}function q(t){var e=t.abs();return!e.isUnit()&&(!!(e.equals(2)||e.equals(3)||e.equals(5))||!(e.isEven()||e.isDivisibleBy(3)||e.isDivisibleBy(5))&&(!!e.lesser(49)||void 0))}function k(t,e){for(var r,n,a,o=t.prev(),s=o,u=0;s.isEven();)s=s.divide(2),u++;t:for(n=0;n<e.length;n++)if(!t.lesser(e[n])&&!(a=i(e[n]).modPow(s,t)).isUnit()&&!a.equals(o)){for(r=u-1;0!=r;r--){if((a=a.square().mod(t)).isUnit())return!1;if(a.equals(o))continue t}return!1}return!0}u.prototype=Object.create(s.prototype),c.prototype=Object.create(s.prototype),l.prototype=Object.create(s.prototype),u.prototype.add=function(t){var e=V(t);if(this.sign!==e.sign)return this.subtract(e.negate());var r=this.value,n=e.value;return e.isSmall?new u(_(r,Math.abs(n)),this.sign):new u(w(r,n),this.sign)},u.prototype.plus=u.prototype.add,c.prototype.add=function(t){var e=V(t),r=this.value;if(r<0!==e.sign)return this.subtract(e.negate());var n=e.value;if(e.isSmall){if(p(r+n))return new c(r+n);n=h(Math.abs(n))}return new u(_(n,Math.abs(r)),r<0)},c.prototype.plus=c.prototype.add,l.prototype.add=function(t){return new l(this.value+V(t).value)},l.prototype.plus=l.prototype.add,u.prototype.subtract=function(t){var e=V(t);if(this.sign!==e.sign)return this.add(e.negate());var r=this.value,n=e.value;return e.isSmall?b(r,Math.abs(n),this.sign):function(t,e,r){var n;return j(t,e)>=0?n=g(t,e):(n=g(e,t),r=!r),"number"==typeof(n=f(n))?(r&&(n=-n),new c(n)):new u(n,r)}(r,n,this.sign)},u.prototype.minus=u.prototype.subtract,c.prototype.subtract=function(t){var e=V(t),r=this.value;if(r<0!==e.sign)return this.add(e.negate());var n=e.value;return e.isSmall?new c(r-n):b(n,Math.abs(r),r>=0)},c.prototype.minus=c.prototype.subtract,l.prototype.subtract=function(t){return new l(this.value-V(t).value)},l.prototype.minus=l.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},c.prototype.negate=function(){var t=this.sign,e=new c(-this.value);return e.sign=!t,e},l.prototype.negate=function(){return new l(-this.value)},u.prototype.abs=function(){return new u(this.value,!1)},c.prototype.abs=function(){return new c(Math.abs(this.value))},l.prototype.abs=function(){return new l(this.value>=0?this.value:-this.value)},u.prototype.multiply=function(t){var r,n,i,a=V(t),o=this.value,c=a.value,l=this.sign!==a.sign;if(a.isSmall){if(0===c)return s[0];if(1===c)return this;if(-1===c)return this.negate();if((r=Math.abs(c))<e)return new u(E(o,r),l);c=h(r)}return new u(-.012*(n=o.length)-.012*(i=c.length)+15e-6*n*i>0?O(o,c):A(o,c),l)},u.prototype.times=u.prototype.multiply,c.prototype._multiplyBySmall=function(t){return p(t.value*this.value)?new c(t.value*this.value):S(Math.abs(t.value),h(Math.abs(this.value)),this.sign!==t.sign)},u.prototype._multiplyBySmall=function(t){return 0===t.value?s[0]:1===t.value?this:-1===t.value?this.negate():S(Math.abs(t.value),this.value,this.sign!==t.sign)},c.prototype.multiply=function(t){return V(t)._multiplyBySmall(this)},c.prototype.times=c.prototype.multiply,l.prototype.multiply=function(t){return new l(this.value*V(t).value)},l.prototype.times=l.prototype.multiply,u.prototype.square=function(){return new u(z(this.value),!1)},c.prototype.square=function(){var t=this.value*this.value;return p(t)?new c(t):new u(z(h(Math.abs(this.value))),!1)},l.prototype.square=function(t){return new l(this.value*this.value)},u.prototype.divmod=function(t){var e=x(this,t);return{quotient:e[0],remainder:e[1]}},l.prototype.divmod=c.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(t){return x(this,t)[0]},l.prototype.over=l.prototype.divide=function(t){return new l(this.value/V(t).value)},c.prototype.over=c.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(t){return x(this,t)[1]},l.prototype.mod=l.prototype.remainder=function(t){return new l(this.value%V(t).value)},c.prototype.remainder=c.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(t){var e,r,n,i=V(t),a=this.value,o=i.value;if(0===o)return s[1];if(0===a)return s[0];if(1===a)return s[1];if(-1===a)return i.isEven()?s[1]:s[-1];if(i.sign)return s[0];if(!i.isSmall)throw new Error("The exponent "+i.toString()+" is too large.");if(this.isSmall&&p(e=Math.pow(a,o)))return new c(m(e));for(r=this,n=s[1];!0&o&&(n=n.times(r),--o),0!==o;)o/=2,r=r.square();return n},c.prototype.pow=u.prototype.pow,l.prototype.pow=function(t){var e=V(t),r=this.value,n=e.value,i=BigInt(0),a=BigInt(1),o=BigInt(2);if(n===i)return s[1];if(r===i)return s[0];if(r===a)return s[1];if(r===BigInt(-1))return e.isEven()?s[1]:s[-1];if(e.isNegative())return new l(i);for(var u=this,c=s[1];(n&a)===a&&(c=c.times(u),--n),n!==i;)n/=o,u=u.square();return c},u.prototype.modPow=function(t,e){if(t=V(t),(e=V(e)).isZero())throw new Error("Cannot take modPow with modulus 0");var r=s[1],n=this.mod(e);for(t.isNegative()&&(t=t.multiply(s[-1]),n=n.modInv(e));t.isPositive();){if(n.isZero())return s[0];t.isOdd()&&(r=r.multiply(n).mod(e)),t=t.divide(2),n=n.square().mod(e)}return r},l.prototype.modPow=c.prototype.modPow=u.prototype.modPow,u.prototype.compareAbs=function(t){var e=V(t),r=this.value,n=e.value;return e.isSmall?1:j(r,n)},c.prototype.compareAbs=function(t){var e=V(t),r=Math.abs(this.value),n=e.value;return e.isSmall?r===(n=Math.abs(n))?0:r>n?1:-1:-1},l.prototype.compareAbs=function(t){var e=this.value,r=V(t).value;return(e=e>=0?e:-e)===(r=r>=0?r:-r)?0:e>r?1:-1},u.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=V(t),r=this.value,n=e.value;return this.sign!==e.sign?e.sign?1:-1:e.isSmall?this.sign?-1:1:j(r,n)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,c.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=V(t),r=this.value,n=e.value;return e.isSmall?r==n?0:r>n?1:-1:r<0!==e.sign?r<0?-1:1:r<0?1:-1},c.prototype.compareTo=c.prototype.compare,l.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=this.value,r=V(t).value;return e===r?0:e>r?1:-1},l.prototype.compareTo=l.prototype.compare,u.prototype.equals=function(t){return 0===this.compare(t)},l.prototype.eq=l.prototype.equals=c.prototype.eq=c.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(t){return 0!==this.compare(t)},l.prototype.neq=l.prototype.notEquals=c.prototype.neq=c.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(t){return this.compare(t)>0},l.prototype.gt=l.prototype.greater=c.prototype.gt=c.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(t){return this.compare(t)<0},l.prototype.lt=l.prototype.lesser=c.prototype.lt=c.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(t){return this.compare(t)>=0},l.prototype.geq=l.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(t){return this.compare(t)<=0},l.prototype.leq=l.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return 0==(1&this.value[0])},c.prototype.isEven=function(){return 0==(1&this.value)},l.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},u.prototype.isOdd=function(){return 1==(1&this.value[0])},c.prototype.isOdd=function(){return 1==(1&this.value)},l.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},u.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=function(){return this.value>0},l.prototype.isPositive=c.prototype.isPositive,u.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=function(){return this.value<0},l.prototype.isNegative=c.prototype.isNegative,u.prototype.isUnit=function(){return!1},c.prototype.isUnit=function(){return 1===Math.abs(this.value)},l.prototype.isUnit=function(){return this.abs().value===BigInt(1)},u.prototype.isZero=function(){return!1},c.prototype.isZero=function(){return 0===this.value},l.prototype.isZero=function(){return this.value===BigInt(0)},u.prototype.isDivisibleBy=function(t){var e=V(t);return!e.isZero()&&(!!e.isUnit()||(0===e.compareAbs(2)?this.isEven():this.mod(e).isZero()))},l.prototype.isDivisibleBy=c.prototype.isDivisibleBy=u.prototype.isDivisibleBy,u.prototype.isPrime=function(e){var r=q(this);if(r!==t)return r;var n=this.abs(),a=n.bitLength();if(a<=64)return k(n,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var o=Math.log(2)*a.toJSNumber(),s=Math.ceil(!0===e?2*Math.pow(o,2):o),u=[],c=0;c<s;c++)u.push(i(c+2));return k(n,u)},l.prototype.isPrime=c.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(e,r){var n=q(this);if(n!==t)return n;for(var a=this.abs(),o=e===t?5:e,s=[],u=0;u<o;u++)s.push(i.randBetween(2,a.minus(2),r));return k(a,s)},l.prototype.isProbablePrime=c.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(t){for(var e,r,n,a=i.zero,o=i.one,s=V(t),u=this.abs();!u.isZero();)e=s.divide(u),r=a,n=s,a=o,s=u,o=r.subtract(e.multiply(o)),u=n.subtract(e.multiply(u));if(!s.isUnit())throw new Error(this.toString()+" and "+t.toString()+" are not co-prime");return-1===a.compare(0)&&(a=a.add(t)),this.isNegative()?a.negate():a},l.prototype.modInv=c.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var t=this.value;return this.sign?b(t,1,this.sign):new u(_(t,1),this.sign)},c.prototype.next=function(){var t=this.value;return t+1<r?new c(t+1):new u(n,!1)},l.prototype.next=function(){return new l(this.value+BigInt(1))},u.prototype.prev=function(){var t=this.value;return this.sign?new u(_(t,1),!0):b(t,1,this.sign)},c.prototype.prev=function(){var t=this.value;return t-1>-r?new c(t-1):new u(n,!0)},l.prototype.prev=function(){return new l(this.value-BigInt(1))};for(var D=[1];2*D[D.length-1]<=e;)D.push(2*D[D.length-1]);var N=D.length,B=D[N-1];function T(t){return Math.abs(t)<=e}function C(t,e,r){e=V(e);for(var n=t.isNegative(),a=e.isNegative(),o=n?t.not():t,s=a?e.not():e,u=0,c=0,l=null,p=null,h=[];!o.isZero()||!s.isZero();)u=(l=x(o,B))[1].toJSNumber(),n&&(u=B-1-u),c=(p=x(s,B))[1].toJSNumber(),a&&(c=B-1-c),o=l[0],s=p[0],h.push(r(u,c));for(var f=0!==r(n?1:0,a?1:0)?i(-1):i(0),d=h.length-1;d>=0;d-=1)f=f.multiply(B).add(i(h[d]));return f}u.prototype.shiftLeft=function(t){var e=V(t).toJSNumber();if(!T(e))throw new Error(String(e)+" is too large for shifting.");if(e<0)return this.shiftRight(-e);var r=this;if(r.isZero())return r;for(;e>=N;)r=r.multiply(B),e-=N-1;return r.multiply(D[e])},l.prototype.shiftLeft=c.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(t){var e,r=V(t).toJSNumber();if(!T(r))throw new Error(String(r)+" is too large for shifting.");if(r<0)return this.shiftLeft(-r);for(var n=this;r>=N;){if(n.isZero()||n.isNegative()&&n.isUnit())return n;n=(e=x(n,B))[1].isNegative()?e[0].prev():e[0],r-=N-1}return(e=x(n,D[r]))[1].isNegative()?e[0].prev():e[0]},l.prototype.shiftRight=c.prototype.shiftRight=u.prototype.shiftRight,u.prototype.not=function(){return this.negate().prev()},l.prototype.not=c.prototype.not=u.prototype.not,u.prototype.and=function(t){return C(this,t,(function(t,e){return t&e}))},l.prototype.and=c.prototype.and=u.prototype.and,u.prototype.or=function(t){return C(this,t,(function(t,e){return t|e}))},l.prototype.or=c.prototype.or=u.prototype.or,u.prototype.xor=function(t){return C(this,t,(function(t,e){return t^e}))},l.prototype.xor=c.prototype.xor=u.prototype.xor;var F=1<<30;function L(t){var r=t.value,n="number"==typeof r?r|F:"bigint"==typeof r?r|BigInt(F):r[0]+r[1]*e|1073758208;return n&-n}function U(t,e){if(e.compareTo(t)<=0){var r=U(t,e.square(e)),n=r.p,a=r.e,o=n.multiply(e);return o.compareTo(t)<=0?{p:o,e:2*a+1}:{p:n,e:2*a}}return{p:i(1),e:0}}function I(t,e){return t=V(t),e=V(e),t.greater(e)?t:e}function J(t,e){return t=V(t),e=V(e),t.lesser(e)?t:e}function R(t,e){if(t=V(t).abs(),e=V(e).abs(),t.equals(e))return t;if(t.isZero())return e;if(e.isZero())return t;for(var r,n,i=s[1];t.isEven()&&e.isEven();)r=J(L(t),L(e)),t=t.divide(r),e=e.divide(r),i=i.multiply(r);for(;t.isEven();)t=t.divide(L(t));do{for(;e.isEven();)e=e.divide(L(e));t.greater(e)&&(n=e,e=t,t=n),e=e.subtract(t)}while(!e.isZero());return i.isUnit()?t:t.multiply(i)}u.prototype.bitLength=function(){var t=this;return t.compareTo(i(0))<0&&(t=t.negate().subtract(i(1))),0===t.compareTo(i(0))?i(0):i(U(t,i(2)).e).add(i(1))},l.prototype.bitLength=c.prototype.bitLength=u.prototype.bitLength;var Z=function(t,e,r,n){r=r||a,t=String(t),n||(t=t.toLowerCase(),r=r.toLowerCase());var i,o=t.length,s=Math.abs(e),u={};for(i=0;i<r.length;i++)u[r[i]]=i;for(i=0;i<o;i++)if("-"!==(p=t[i])&&p in u&&u[p]>=s){if("1"===p&&1===s)continue;throw new Error(p+" is not a valid digit in base "+e+".")}e=V(e);var c=[],l="-"===t[0];for(i=l?1:0;i<t.length;i++){var p;if((p=t[i])in u)c.push(V(u[p]));else{if("<"!==p)throw new Error(p+" is not a valid character");var h=i;do{i++}while(">"!==t[i]&&i<t.length);c.push(V(t.slice(h+1,i)))}}return G(c,e,l)};function G(t,e,r){var n,i=s[0],a=s[1];for(n=t.length-1;n>=0;n--)i=i.add(t[n].times(a)),a=a.times(e);return r?i.negate():i}function W(t,e){if((e=i(e)).isZero()){if(t.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(e.equals(-1)){if(t.isZero())return{value:[0],isNegative:!1};if(t.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-t.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(t.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var n=!1;if(t.isNegative()&&e.isPositive()&&(n=!0,t=t.abs()),e.isUnit())return t.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(t.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:n};for(var a,o=[],s=t;s.isNegative()||s.compareAbs(e)>=0;){a=s.divmod(e),s=a.quotient;var u=a.remainder;u.isNegative()&&(u=e.minus(u).abs(),s=s.next()),o.push(u.toJSNumber())}return o.push(s.toJSNumber()),{value:o.reverse(),isNegative:n}}function H(t,e,r){var n=W(t,e);return(n.isNegative?"-":"")+n.value.map((function(t){return function(t,e){return t<(e=e||a).length?e[t]:"<"+t+">"}(t,r)})).join("")}function $(t){if(p(+t)){var e=+t;if(e===m(e))return o?new l(BigInt(e)):new c(e);throw new Error("Invalid integer: "+t)}var r="-"===t[0];r&&(t=t.slice(1));var n=t.split(/e/i);if(n.length>2)throw new Error("Invalid integer: "+n.join("e"));if(2===n.length){var i=n[1];if("+"===i[0]&&(i=i.slice(1)),(i=+i)!==m(i)||!p(i))throw new Error("Invalid integer: "+i+" is not a valid exponent.");var a=n[0],s=a.indexOf(".");if(s>=0&&(i-=a.length-s-1,a=a.slice(0,s)+a.slice(s+1)),i<0)throw new Error("Cannot include negative exponent part for integers");t=a+=new Array(i+1).join("0")}if(!/^([0-9][0-9]*)$/.test(t))throw new Error("Invalid integer: "+t);if(o)return new l(BigInt(r?"-"+t:t));for(var h=[],f=t.length,y=f-7;f>0;)h.push(+t.slice(y,f)),(y-=7)<0&&(y=0),f-=7;return d(h),new u(h,r)}function V(t){return"number"==typeof t?function(t){if(o)return new l(BigInt(t));if(p(t)){if(t!==m(t))throw new Error(t+" is not an integer.");return new c(t)}return $(t.toString())}(t):"string"==typeof t?$(t):"bigint"==typeof t?new l(t):t}u.prototype.toArray=function(t){return W(this,t)},c.prototype.toArray=function(t){return W(this,t)},l.prototype.toArray=function(t){return W(this,t)},u.prototype.toString=function(e,r){if(e===t&&(e=10),10!==e)return H(this,e,r);for(var n,i=this.value,a=i.length,o=String(i[--a]);--a>=0;)n=String(i[a]),o+="0000000".slice(n.length)+n;return(this.sign?"-":"")+o},c.prototype.toString=function(e,r){return e===t&&(e=10),10!=e?H(this,e,r):String(this.value)},l.prototype.toString=c.prototype.toString,l.prototype.toJSON=u.prototype.toJSON=c.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,c.prototype.valueOf=function(){return this.value},c.prototype.toJSNumber=c.prototype.valueOf,l.prototype.valueOf=l.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var K=0;K<1e3;K++)s[K]=V(K),K>0&&(s[-K]=V(-K));return s.one=s[1],s.zero=s[0],s.minusOne=s[-1],s.max=I,s.min=J,s.gcd=R,s.lcm=function(t,e){return t=V(t).abs(),e=V(e).abs(),t.divide(R(t,e)).multiply(e)},s.isInstance=function(t){return t instanceof u||t instanceof c||t instanceof l},s.randBetween=function(t,r,n){t=V(t),r=V(r);var i=n||Math.random,a=J(t,r),o=I(t,r).subtract(a).add(1);if(o.isSmall)return a.add(Math.floor(i()*o));for(var u=W(o,e).value,c=[],l=!0,p=0;p<u.length;p++){var h=l?u[p]+(p+1<u.length?u[p+1]/e:0):e,f=m(i()*h);c.push(f),f<u[p]&&(l=!1)}return a.add(s.fromArray(c,e,!1))},s.fromArray=function(t,e,r){return G(t.map(V),V(e||10),r)},s}();t.hasOwnProperty("exports")&&(t.exports=i),void 0===(n=function(){return i}.call(e,r,e,t))||(t.exports=n)},307:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(311)),a=n(r(843));function o(t,e){var r;const n={};for(const t of e){const e=null!==(r=t.type)&&void 0!==r?r:"data";"number"==typeof t.value?n[e+":number."+t.key]=String(t.value):"boolean"==typeof t.value?n[e+":bool."+t.key]=t.value?"true":"false":n[e+"."+t.key]=t.value}return Object.assign({},t,n)}e.default=class{constructor(t,e,r){this.endpoint=t,this.namespace=e,r.fetch?this.fetchBuiltin=r.fetch:this.fetchBuiltin=window.fetch,this.action=(async()=>new i.default((await this.getConfig()).contract,this))()}async getConfig(){return await this.fetchEndpoint("/v1/config",{})}async getAssets(t={},e=1,r=100,n=[]){return await this.fetchEndpoint("/v1/assets",Object.assign({page:e,limit:r},o(t,n)))}async countAssets(t,e=[]){return await this.countEndpoint("/v1/assets",o(t,e))}async getAsset(t){return await this.fetchEndpoint("/v1/assets/"+t,{})}async getAssetStats(t){return await this.fetchEndpoint("/v1/assets/"+t+"/stats",{})}async getAssetLogs(t,e=1,r=100,n="desc"){return await this.fetchEndpoint("/v1/assets/"+t+"/logs",{page:e,limit:r,order:n})}async getCollections(t={},e=1,r=100){return await this.fetchEndpoint("/v1/collections",Object.assign({page:e,limit:r},t))}async countCollections(t={}){return await this.countEndpoint("/v1/collections",t)}async getCollection(t){return await this.fetchEndpoint("/v1/collections/"+t,{})}async getCollectionStats(t){return await this.fetchEndpoint("/v1/collections/"+t+"/stats",{})}async getCollectionLogs(t,e=1,r=100,n="desc"){return await this.fetchEndpoint("/v1/collections/"+t+"/logs",{page:e,limit:r,order:n})}async getSchemas(t={},e=1,r=100){return await this.fetchEndpoint("/v1/schemas",Object.assign({page:e,limit:r},t))}async countSchemas(t={}){return await this.countEndpoint("/v1/schemas",t)}async getSchema(t,e){return await this.fetchEndpoint("/v1/schemas/"+t+"/"+e,{})}async getSchemaStats(t,e){return await this.fetchEndpoint("/v1/schemas/"+t+"/"+e+"/stats",{})}async getSchemaLogs(t,e,r=1,n=100,i="desc"){return await this.fetchEndpoint("/v1/schemas/"+t+"/"+e+"/logs",{page:r,limit:n,order:i})}async getTemplates(t={},e=1,r=100,n=[]){return await this.fetchEndpoint("/v1/templates",Object.assign({page:e,limit:r},o(t,n)))}async countTemplates(t={},e=[]){return await this.countEndpoint("/v1/templates",o(t,e))}async getTemplate(t,e){return await this.fetchEndpoint("/v1/templates/"+t+"/"+e,{})}async getTemplateStats(t,e){return await this.fetchEndpoint("/v1/templates/"+t+"/"+e+"/stats",{})}async getTemplateLogs(t,e,r=1,n=100,i="desc"){return await this.fetchEndpoint("/v1/templates/"+t+"/"+e+"/logs",{page:r,limit:n,order:i})}async getTransfers(t={},e=1,r=100){return await this.fetchEndpoint("/v1/transfers",Object.assign({page:e,limit:r},t))}async countTransfers(t={}){return await this.countEndpoint("/v1/transfers",t)}async getOffers(t={},e=1,r=100){return await this.fetchEndpoint("/v1/offers",Object.assign({page:e,limit:r},t))}async countOffers(t={}){return await this.countEndpoint("/v1/offers",t)}async getOffer(t){return await this.fetchEndpoint("/v1/offers/"+t,{})}async getAccounts(t={},e=1,r=100){return await this.fetchEndpoint("/v1/accounts",Object.assign({page:e,limit:r},t))}async getBurns(t={},e=1,r=100){return await this.fetchEndpoint("/v1/burns",Object.assign({page:e,limit:r},t))}async countAccounts(t={}){return await this.countEndpoint("/v1/accounts",t)}async getAccount(t,e={}){return await this.fetchEndpoint("/v1/accounts/"+t,e)}async getAccountCollection(t,e){return await this.fetchEndpoint("/v1/accounts/"+t+"/"+e,{})}async getAccountBurns(t,e={}){return await this.fetchEndpoint("/v1/burns/"+t,e)}async fetchEndpoint(t,e){let r,n;const i=this.fetchBuiltin,o=Object.keys(e).map((t=>{let r=e[t];return!0===r&&(r="true"),!1===r&&(r="false"),t+"="+encodeURIComponent(r)})).join("&");try{r=o.length<1e3?await i(this.endpoint+"/"+this.namespace+t+(o.length>0?"?"+o:"")):await i(this.endpoint+"/"+this.namespace+t,{headers:{accept:"*.*","content-type":"application/json"},method:"POST",body:JSON.stringify(e)}),n=await r.json()}catch(t){throw new a.default(t.message,500)}if(200!==r.status)throw new a.default(n.message,r.status);if(!n.success)throw new a.default(n.message,r.status);return n.data}async countEndpoint(t,e){const r=await this.fetchEndpoint(t+"/_count",e);return parseInt(r,10)}}},509:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(85),a=n(r(147)),o=n(r(909)),s=n(r(162));e.default=class{constructor(t,e,r,n,i,u,c,l=!0){this.api=t,this.owner=e,this.id=r,this._data=new Promise((async(i,a)=>{if(n)i(n);else try{i(await t.queue.fetchAsset(e,r,l))}catch(t){a(t)}})),this._template=new Promise((async(e,r)=>{if(c)e(c);else try{const r=await this._data;if(Number(r.template_id)<0)return e(null);e(new s.default(t,r.collection_name,r.template_id,void 0,void 0,l))}catch(t){r(t)}})),this._collection=new Promise((async(e,r)=>{if(i)e(i);else try{const r=await this._data;e(new a.default(t,r.collection_name,void 0,l))}catch(t){r(t)}})),this._schema=new Promise((async(e,r)=>{if(u)e(u);else try{const r=await this._data;e(new o.default(t,r.collection_name,r.schema_name,void 0,l))}catch(t){r(t)}}))}async template(){return await this._template}async collection(){return await this._collection}async schema(){return await this._schema}async backedTokens(){return(await this._data).backed_tokens}async immutableData(){const t=await this.schema(),e=await this._data;return(0,i.deserialize)(e.immutable_serialized_data,await t.format())}async mutableData(){const t=await this.schema(),e=await this._data;return(0,i.deserialize)(e.mutable_serialized_data,await t.format())}async data(){const t=await this.mutableData(),e=await this.immutableData(),r=await this.template(),n=r?await r.immutableData():{};return Object.assign({},t,e,n)}async toObject(){const t=await this.template(),e=await this.collection(),r=await this.schema();return{asset_id:this.id,collection:await e.toObject(),schema:await r.toObject(),template:t?await t.toObject():null,backedTokens:await this.backedTokens(),immutableData:await this.immutableData(),mutableData:await this.mutableData(),data:await this.data()}}}},43:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MemoryCache=void 0,e.MemoryCache=class{constructor(){this.store={}}get(t){const e=this.store[t];if(void 0===e)return null;const[r,n]=e;return new Date>n?(delete this.store[t],null):r}put(t,e,r){const n=new Date(Date.now()+r);this.store[t]=[e,n]}remove(t){delete this.store[t]}}},147:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(577),i=r(85);e.default=class{constructor(t,e,r,n=!0){this.api=t,this.name=e,this._data=new Promise((async(i,a)=>{if(r)i(r);else try{i(await t.queue.fetchCollection(e,n))}catch(t){a(t)}}))}async author(){return(await this._data).author}async allowNotify(){return(await this._data).allow_notify}async authorizedAccounts(){return(await this._data).authorized_accounts}async notifyAccounts(){return(await this._data).notify_accounts}async marketFee(){return Number((await this._data).market_fee)}async data(){return(0,i.deserialize)((await this._data).serialized_data,(0,n.ObjectSchema)((await this.api.config()).collection_format))}async toObject(){return{collection_name:this.name,author:await this.author(),allowNotify:await this.allowNotify(),authorizedAccounts:await this.authorizedAccounts(),notifyAccounts:await this.notifyAccounts(),marketFee:await this.marketFee(),data:await this.data()}}}},715:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(509));e.default=class{constructor(t,e,r,n,a,o=!0){this.api=t,this.id=e,this._data=new Promise((async(t,n)=>{if(r)t(r);else try{t(await this.api.queue.fetchOffer(e,o))}catch(t){n(t)}})),this._senderAssets=new Promise((async(t,e)=>{if(n)t(n);else try{const e=await this._data,r=await this.api.queue.fetchAccountAssets(e.sender);return t(e.sender_asset_ids.map((t=>{const n=r.find((e=>e.asset_id===t));return n?new i.default(this.api,e.sender,t,n,void 0,void 0,void 0,o):t})))}catch(t){return e(t)}})),this._recipientAssets=new Promise((async(t,e)=>{if(a)t(a);else try{const e=await this._data,r=await this.api.queue.fetchAccountAssets(e.recipient);return t(e.recipient_asset_ids.map((t=>{const n=r.find((e=>e.asset_id===t));return n?new i.default(this.api,e.recipient,t,n,void 0,void 0,void 0,o):t})))}catch(t){return e(t)}}))}async sender(){return(await this._data).sender}async recipient(){return(await this._data).recipient}async senderAssets(){return await this._senderAssets}async recipientAssets(){return await this._recipientAssets}async memo(){return(await this._data).memo}async toObject(){return{offer_id:this.id,sender:{account:await this.sender(),assets:await Promise.all((await this.senderAssets()).map((async t=>"string"==typeof t?t:await t.toObject())))},recipient:{account:await this.recipient(),assets:await Promise.all((await this.recipientAssets()).map((async t=>"string"==typeof t?t:await t.toObject())))},memo:await this.memo()}}}},141:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t,e=4){this.api=t,this.requestLimit=e,this.elements=[],this.interval=null,this.preloadedCollections={}}async fetchAsset(t,e,r=!0){return await this.fetch_single_row("assets",t,e,(t=>r||void 0!==t?this.api.cache.getAsset(e,t):null))}async fetchAccountAssets(t){return(await this.fetch_all_rows("assets",t,"asset_id")).map((t=>this.api.cache.getAsset(t.asset_id,t)))}async fetchTemplate(t,e,r=!0){return await this.fetch_single_row("templates",t,e,(n=>r||void 0!==n?this.api.cache.getTemplate(t,e,n):null))}async fetchSchema(t,e,r=!0){return await this.fetch_single_row("schemas",t,e,(n=>r||void 0!==n?this.api.cache.getSchema(t,e,n):null))}async fetchCollection(t,e=!0){return await this.fetch_single_row("collections",this.api.contract,t,(r=>e||void 0!==r?this.api.cache.getCollection(t,r):null))}async fetchCollectionSchemas(t){return(await this.fetch_all_rows("schemas",t,"schema_name")).map((e=>this.api.cache.getSchema(t,e.schema_name,e)))}async fetchCollectionTemplates(t){return(await this.fetch_all_rows("templates",t,"template_id")).map((e=>this.api.cache.getTemplate(t,String(e.template_id),e)))}async preloadCollection(t,e=!0){(!e||!this.preloadedCollections[t]||this.preloadedCollections[t]+9e5<Date.now())&&(await this.fetchCollectionSchemas(t),await this.fetchCollectionTemplates(t))}async fetchOffer(t,e=!0){return await this.fetch_single_row("offers",this.api.contract,t,(r=>e||void 0!==r?this.api.cache.getOffer(t,r):null))}async fetchAccountOffers(t){const e=await Promise.all([this.fetch_all_rows("offers",this.api.contract,"offer_sender",t,t,2,"name"),this.fetch_all_rows("offers",this.api.contract,"offer_recipient",t,t,3,"name")]);return e[0].concat(e[1]).map((t=>this.api.cache.getOffer(t.offer_id,t)))}dequeue(){this.interval||(this.interval=setInterval((async()=>{this.elements.length>0?this.elements.shift()():(clearInterval(this.interval),this.interval=null)}),Math.ceil(1e3/this.requestLimit)))}async fetch_single_row(t,e,r,n,i=1,a=""){return new Promise(((o,s)=>{let u=n();if(null!==u)return o(u);this.elements.push((async()=>{if(u=n(),null!==u)return o(u);try{const u={code:this.api.contract,table:t,scope:e,limit:1,lower_bound:r,upper_bound:r,index_position:i,key_type:a},c=await this.api.getTableRows(u);return 0===c.rows.length?s(new Error("Row not found for "+JSON.stringify(u))):o(n(c.rows[0]))}catch(t){return s(t)}})),this.dequeue()}))}async fetch_all_rows(t,e,r,n="",i="",a=1,o=""){return new Promise((async(s,u)=>{this.elements.push((async()=>{const c=await this.api.getTableRows({code:this.api.contract,scope:e,table:t,lower_bound:n,upper_bound:i,limit:1e3,index_position:a,key_type:o});c.more&&1===a?(this.elements.unshift((async()=>{try{const n=await this.fetch_all_rows(t,e,r,c.rows[c.rows.length-1][r],i,a,o);n.length>0&&n.shift(),s(c.rows.concat(n))}catch(t){u(t)}})),this.dequeue()):s(c.rows)})),this.dequeue()}))}}},869:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(43);e.default=class{constructor(){this.cache=new n.MemoryCache}getAsset(t,e){return e&&(e.mutable_serialized_data=new Uint8Array(e.mutable_serialized_data),e.immutable_serialized_data=new Uint8Array(e.immutable_serialized_data)),this.access("assets",t,e)}deleteAsset(t){this.delete("assets",t)}getTemplate(t,e,r){return r&&(r.immutable_serialized_data=new Uint8Array(r.immutable_serialized_data)),this.access("templates",t+":"+e,r)}deleteTemplate(t,e){this.delete("templates",t+":"+e)}getSchema(t,e,r){return this.access("schemas",t+":"+e,r)}deleteSchema(t,e){this.delete("schemas",t+":"+e)}getCollection(t,e){return this.access("collections",t,e)}deleteCollection(t){this.delete("collections",t)}getOffer(t,e){return this.access("offers",t,e)}deleteOffer(t){this.delete("offers",t)}access(t,e,r){if(void 0===r){const r=this.cache.get(t+":"+e);return null===r?null:r}return this.cache.put(t+":"+e,r,9e5),r}delete(t,e){this.cache.remove(t+":"+e)}}},909:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(577),a=n(r(147));e.default=class{constructor(t,e,r,n,i=!0){this.api=t,this.collection=e,this.name=r,this._data=new Promise((async(a,o)=>{if(n)a(n);else try{a(await t.queue.fetchSchema(e,r,i))}catch(t){o(t)}})),this._collection=new Promise((async(r,n)=>{try{r(new a.default(t,e,void 0,i))}catch(t){n(t)}}))}async format(){return(0,i.ObjectSchema)((await this._data).format)}async rawFormat(){return(await this._data).format}async toObject(){return{collection_name:this.collection,schema_name:this.name,format:await this.rawFormat()}}}},162:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(85),a=n(r(909));e.default=class{constructor(t,e,r,n,i,o=!0){this.api=t,this.collection=e,this.id=r,this._data=new Promise((async(i,a)=>{if(n)i(n);else try{i(await t.queue.fetchTemplate(e,r,o))}catch(t){a(t)}})),this._schema=new Promise((async(t,r)=>{if(i)t(i);else try{const r=await this._data;t(new a.default(this.api,e,r.schema_name,void 0,o))}catch(t){r(t)}}))}async schema(){return await this._schema}async immutableData(){const t=await this._schema;return(0,i.deserialize)((await this._data).immutable_serialized_data,await t.format())}async isTransferable(){return(await this._data).transferable}async isBurnable(){return(await this._data).burnable}async maxSupply(){return(await this._data).max_supply}async circulation(){return(await this._data).issued_supply}async toObject(){return{collection_name:this.collection,template_id:this.id,schema:await(await this.schema()).toObject(),immutableData:await this.immutableData(),transferable:await this.isTransferable(),burnable:await this.isBurnable(),maxSupply:await this.maxSupply(),circulation:await this.circulation()}}}},707:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(700)),a=n(r(116)),o=n(r(509)),s=n(r(869)),u=n(r(147)),c=n(r(715)),l=n(r(141)),p=n(r(909)),h=n(r(162));e.default=class{constructor(t,e,n={rateLimit:4}){this.endpoint=t,this.contract=e,n.fetch?this.fetchBuiltin=n.fetch:this.fetchBuiltin=r.g.fetch,this.queue=new l.default(this,n.rateLimit),this.cache=new s.default,this.action=new i.default(this),this._config=new Promise((async(t,e)=>{try{const r=await this.getTableRows({code:this.contract,scope:this.contract,table:"config"});return 1!==r.rows.length?e("invalid config"):t(r.rows[0])}catch(t){e(t)}}))}async config(){return await this._config}async getAsset(t,e,r=!0){r||this.cache.deleteAsset(e);const n=await this.queue.fetchAsset(t,e,r);return new o.default(this,t,e,n,void 0,void 0,void 0,r)}async getTemplate(t,e,r=!0){r||this.cache.deleteTemplate(t,e);const n=await this.queue.fetchTemplate(t,e,r);return new h.default(this,t,e,n,void 0,r)}async getCollection(t,e=!0){e||this.cache.deleteCollection(t);const r=await this.queue.fetchCollection(t,e);return new u.default(this,t,r,e)}async getCollectionTemplates(t){return(await this.queue.fetchCollectionTemplates(t)).map((e=>new h.default(this,t,String(e.template_id),e,void 0)))}async getCollectionsSchemas(t){return(await this.queue.fetchCollectionSchemas(t)).map((e=>new p.default(this,t,e.schema_name,void 0)))}async getSchema(t,e,r=!0){r||this.cache.deleteSchema(t,e);const n=await this.queue.fetchSchema(t,e,r);return new p.default(this,t,e,n,r)}async getOffer(t,e=!0){e||this.cache.deleteOffer(t);const r=await this.queue.fetchOffer(t,e);return new c.default(this,t,r,void 0,void 0,e)}async getAccountOffers(t){return(await this.queue.fetchAccountOffers(t)).map((t=>new c.default(this,t.offer_id,t,void 0,void 0)))}async getAccountAssets(t){return(await this.queue.fetchAccountAssets(t)).map((e=>new o.default(this,t,e.asset_id,e,void 0,void 0,void 0)))}async getCollectionInventory(t,e){return await this.queue.preloadCollection(t,!0),(await this.queue.fetchAccountAssets(e)).filter((e=>e.collection_name===t)).map((t=>new o.default(this,e,t.asset_id,t,void 0,void 0,void 0)))}async preloadCollection(t,e=!0){await this.queue.preloadCollection(t,e)}async getTableRows({code:t,scope:e,table:r,table_key:n="",lower_bound:i="",upper_bound:a="",index_position:o=1,key_type:s=""}){return await this.fetchRpc("/v1/chain/get_table_rows",{code:t,scope:e,table:r,table_key:n,lower_bound:i,upper_bound:a,index_position:o,key_type:s,limit:101,reverse:!1,show_payer:!1,json:!0})}async fetchRpc(t,e){let r,n;try{const i=this.fetchBuiltin;r=await i(this.endpoint+t,{body:JSON.stringify(e),method:"POST"}),n=await r.json()}catch(t){throw t.isFetchError=!0,t}if(n.processed&&n.processed.except||!r.ok)throw new a.default(n);return n}}},311:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(135);class i extends n.ActionGenerator{constructor(t,e){super(t),this.api=e,this.config=e.getConfig()}async createcol(t,e,r,i,a,o,s,u){return super.createcol(t,e,r,i,a,o,s,(0,n.toAttributeMap)(u,(await this.config).collection_format))}async createtempl(t,e,r,i,a,o,s,u){const c=await this.api.getSchema(r,i),l=(0,n.toAttributeMap)(u,c.format);return super.createtempl(t,e,r,i,a,o,s,l)}async mintasset(t,e,r,i,a,o,s,u,c){const l=await this.api.getSchema(r,i),p=(0,n.toAttributeMap)(s,l.format),h=(0,n.toAttributeMap)(u,l.format);return super.mintasset(t,e,r,i,a,o,p,h,c)}async setassetdata(t,e,r,i,a){const o=await this.api.getAsset(i),s=(0,n.toAttributeMap)(a,o.schema.format);return super.setassetdata(t,e,r,i,s)}async setcoldata(t,e,r){const i=(0,n.toAttributeMap)(r,(await this.config).collection_format);return super.setcoldata(t,e,i)}}e.default=i},135:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.toAttributeMap=e.ActionGenerator=void 0;const i=n(r(72));e.ActionGenerator=class{constructor(t){this.contract=t}async acceptoffer(t,e){return this._pack(t,"acceptoffer",{offer_id:e})}async addcolauth(t,e,r){return this._pack(t,"addcolauth",{collection_name:e,account_to_add:r})}async addconftoken(t,e,r){return this._pack(t,"addconftoken",{token_contract:e,token_symbol:r})}async addnotifyacc(t,e,r){return this._pack(t,"addnotifyacc",{collection_name:e,account_to_add:r})}async announcedepo(t,e,r){return this._pack(t,"announcedepo",{owner:e,symbol_to_announce:r})}async backasset(t,e,r,n,i){return this._pack(t,"backasset",{payer:e,asset_owner:r,asset_id:n,token_to_back:i})}async burnasset(t,e,r){return this._pack(t,"burnasset",{asset_owner:e,asset_id:r})}async canceloffer(t,e){return this._pack(t,"canceloffer",{offer_id:e})}async createcol(t,e,r,n,i,a,o,s){return this._pack(t,"createcol",{author:e,collection_name:r,allow_notify:n,authorized_accounts:i,notify_accounts:a,market_fee:o,data:s})}async createoffer(t,e,r,n,i,a){return this._pack(t,"createoffer",{sender:e,recipient:r,sender_asset_ids:n,recipient_asset_ids:i,memo:a})}async createtempl(t,e,r,n,i,a,o,s){return this._pack(t,"createtempl",{authorized_creator:e,collection_name:r,schema_name:n,transferable:i,burnable:a,max_supply:o,immutable_data:s})}async createschema(t,e,r,n,i){return this._pack(t,"createschema",{authorized_creator:e,collection_name:r,schema_name:n,schema_format:i})}async declineoffer(t,e){return this._pack(t,"declineoffer",{offer_id:e})}async extendschema(t,e,r,n,i){return this._pack(t,"extendschema",{authorized_editor:e,collection_name:r,schema_name:n,schema_format_extension:i})}async forbidnotify(t,e){return this._pack(t,"forbidnotify",{collection_name:e})}async locktemplate(t,e,r,n){return this._pack(t,"locktemplate",{authorized_editor:e,collection_name:r,template_id:n})}async mintasset(t,e,r,n,i,a,o,s,u){return this._pack(t,"mintasset",{authorized_minter:e,collection_name:r,schema_name:n,template_id:i,new_asset_owner:a,immutable_data:o,mutable_data:s,tokens_to_back:u})}async payofferram(t,e,r){return this._pack(t,"payofferram",{payer:e,offer_id:r})}async remcolauth(t,e,r){return this._pack(t,"remcolauth",{collection_name:e,account_to_remove:r})}async remnotifyacc(t,e,r){return this._pack(t,"remnotifyacc",{collection_name:e,account_to_remove:r})}async setassetdata(t,e,r,n,i){return this._pack(t,"setassetdata",{authorized_editor:e,asset_owner:r,asset_id:n,new_mutable_data:i})}async setcoldata(t,e,r){return this._pack(t,"setcoldata",{collection_name:e,data:r})}async setmarketfee(t,e,r){return this._pack(t,"setmarketfee",{collection_name:e,market_fee:r})}async transfer(t,e,r,n,i){return this._pack(t,"transfer",{from:e,to:r,asset_ids:n,memo:i})}async withdraw(t,e,r){return this._pack(t,"withdraw",{owner:e,token_to_withdraw:r})}_pack(t,e,r){return[{account:this.contract,name:e,authorization:t,data:r}]}},e.toAttributeMap=function(t,e){var r;const n={image:"string",ipfs:"string",bool:"uint8",double:"float64"},a={},o=[];for(const t of e)a[t.name]=t.type;const s=Object.keys(t);for(const e of s){if(void 0===a[e])throw new i.default("field not defined in schema");const s=a[e];let u=t[e];"bool"===s&&(u=u?1:0),o.push({key:e,value:[null!==(r=n[s])&&void 0!==r?r:s,u]})}return o}},700:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(135);class i extends n.ActionGenerator{constructor(t){super(t.contract),this.api=t}async createcol(t,e,r,i,a,o,s,u){const c=await this.api.config();return super.createcol(t,e,r,i,a,o,s,(0,n.toAttributeMap)(u,c.collection_format))}async createtempl(t,e,r,i,a,o,s,u){const c=await this.api.getSchema(r,i),l=(0,n.toAttributeMap)(u,await c.rawFormat());return super.createtempl(t,e,r,i,a,o,s,l)}async mintasset(t,e,r,i,a,o,s,u,c){const l=await this.api.getTemplate(r,a),p=(0,n.toAttributeMap)(s,await(await l.schema()).rawFormat()),h=(0,n.toAttributeMap)(u,await(await l.schema()).rawFormat());return super.mintasset(t,e,r,i,a,o,p,h,c)}async setassetdata(t,e,r,i,a){const o=await this.api.getAsset(r,i),s=await o.schema(),u=(0,n.toAttributeMap)(a,await s.rawFormat());return super.setassetdata(t,e,r,i,u)}async setcoldata(t,e,r){const i=(0,n.toAttributeMap)(r,(await this.api.config()).collection_format);return super.setcoldata(t,e,i)}}e.default=i},843:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r extends Error{constructor(t,e){super(t),this.message=t,this.status=e,this.isApiError=!0}}e.default=r},528:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r extends Error{}e.default=r},116:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r extends Error{constructor(t){t.error&&t.error.details&&t.error.details.length&&t.error.details[0].message?super(t.error.details[0].message):t.processed&&t.processed.except&&t.processed.except.message?super(t.processed.except.message):super(t.message),this.json=t}}e.default=r},698:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r extends Error{}e.default=r},72:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r extends Error{}e.default=r},748:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(698)),a=r(685);e.default=class{constructor(t){this.attributes=t,this.reserved=4}deserialize(t,e=!1){const r={};for(;t.position<t.data.length;){const n=(0,a.varint_decode)(t);if(n.equals(0))break;const i=this.getAttribute(n.toJSNumber(),!e);i&&(r[i.name]=i.value.deserialize(t))}return r}serialize(t){const e=[];for(let r=0;r<this.attributes.length;r++){const n=this.attributes[r];void 0!==t[n.name]&&(e.push((0,a.varint_encode)(r+this.reserved)),e.push(n.value.serialize(t[n.name])))}return e.push((0,a.varint_encode)(0)),(0,a.concat_byte_arrays)(e)}getAttribute(t,e=!0){const r=t-this.reserved;if(!(r>=this.attributes.length))return this.attributes[Number(r)];if(e)throw new i.default("attribute does not exists")}}},484:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(698)),a=r(432);e.default=class{constructor(t){if(void 0===a.ParserTypes[t])throw new i.default(`attribute type '${t}' not defined`);this.parser=a.ParserTypes[t]}deserialize(t){return this.parser.deserialize(t)}serialize(t){return this.parser.serialize(t)}}},817:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(685);e.default=class{constructor(t){this.element=t}deserialize(t){const e=(0,n.varint_decode)(t).toJSNumber(),r=[];for(let n=0;n<e;n++)r.push(this.element.deserialize(t));return r}serialize(t){const e=[(0,n.varint_encode)(t.length)];for(const r of t)e.push(this.element.serialize(r));return(0,n.concat_byte_arrays)(e)}}},577:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectSchema=void 0;const i=n(r(698)),a=n(r(748)),o=n(r(484)),s=n(r(817));function u(t,e){const r=[];let n=e[t];void 0===n&&(n=[]),delete e[t];for(const t of n)r.push({name:t.name,value:c(t.type,e)});return new a.default(r)}function c(t,e){if(t.endsWith("[]"))return new s.default(c(t.substring(0,t.length-2),e));if(t.startsWith("object{")&&t.endsWith("}")){const r=parseInt(t.substring(7,t.length-1),10);if(isNaN(r))throw new i.default(`invalid type '${t}'`);return u(r,e)}return new o.default(t)}e.ObjectSchema=function(t){const e={};for(const r of t){const t=void 0===r.parent?0:r.parent;void 0===e[t]&&(e[t]=[]),e[t].push(r)}return u(0,e)}},685:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.byte_vector_to_int=e.int_to_byte_vector=e.concat_byte_arrays=e.hex_encode=e.hex_decode=e.base58_encode=e.base58_decode=e.zigzag_decode=e.zigzag_encode=e.integer_unsign=e.integer_sign=e.varint_decode=e.varint_encode=void 0;const i=n(r(736)),a=n(r(528)),o=n(r(72)),s=n(r(663));e.varint_encode=function(t){const e=[];let r=(0,i.default)(t);if(r.lesser(0))throw new o.default("cant pack negative integer");for(;;){const t=r.and(127);if(r=r.shiftRight(7),r.equals(0)){e.push(t.toJSNumber());break}e.push(t.toJSNumber()+128)}return new Uint8Array(e)},e.varint_decode=function(t){let e=(0,i.default)(0);for(let r=0;;r++){if(t.position>=t.data.length)throw new a.default("failed to unpack integer");const n=(0,i.default)(t.data[t.position]);if(t.position+=1,n.lesser(128)){e=e.plus(n.shiftLeft(7*r));break}e=e.plus(n.and(127).shiftLeft(7*r))}return e},e.integer_sign=function(t,e){const r=(0,i.default)(t);if(r.greaterOrEquals((0,i.default)(2).pow(8*e-1)))throw new Error("cannot sign integer: too big");return r.greaterOrEquals(0)?r:r.negate().xor((0,i.default)(2).pow(8*e).minus(1)).plus(1)},e.integer_unsign=function(t,e){const r=(0,i.default)(t);if(r.greater((0,i.default)(2).pow(8*e)))throw new Error("cannot unsign integer: too big");return r.greater((0,i.default)(2).pow(8*e-1))?r.minus(1).xor((0,i.default)(2).pow(8*e).minus(1)).negate():r},e.zigzag_encode=function(t){const e=(0,i.default)(t);return e.lesser(0)?e.plus(1).multiply(-2).plus(1):e.multiply(2)},e.zigzag_decode=function(t){const e=(0,i.default)(t);return e.mod(2).equals(0)?e.divmod(2).quotient:e.divmod(2).quotient.multiply(-1).minus(1)};const u=new s.default("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");e.base58_decode=function(t){return u.decode(t)},e.base58_encode=function(t){return u.encode(t)},e.hex_decode=function(t){const e=t.match(/.{1,2}/g);return e?new Uint8Array(e.map((t=>parseInt(t,16)))):new Uint8Array(0)},e.hex_encode=function(t){return t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"")},e.concat_byte_arrays=function(t){const e=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));let r=0;for(const n of t)e.set(n,r),r+=n.length;return e},e.int_to_byte_vector=function(t){const e=[];let r=(0,i.default)(t);for(;r.notEquals(0);)e.push(r.and(255).toJSNumber()),r=r.shiftRight(8);return new Uint8Array(e)},e.byte_vector_to_int=function(t){let e=(0,i.default)(0);for(let r=0;r<t.length;r++)e=e.plus((0,i.default)(t[r]).shiftLeft(8*r));return e.toJSNumber()}},663:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){if(this.ALPHABET=t,t.length>=255)throw new TypeError("Alphabet too long");this.BASE_MAP=new Uint8Array(256);for(let t=0;t<this.BASE_MAP.length;t++)this.BASE_MAP[t]=255;for(let e=0;e<t.length;e++){const r=t.charAt(e),n=r.charCodeAt(0);if(255!==this.BASE_MAP[n])throw new TypeError(r+" is ambiguous");this.BASE_MAP[n]=e}this.BASE=t.length,this.LEADER=t.charAt(0),this.FACTOR=Math.log(this.BASE)/Math.log(256),this.iFACTOR=Math.log(256)/Math.log(this.BASE)}encode(t){if(0===t.length)return"";let e=0,r=0,n=0;const i=t.length;for(;n!==i&&0===t[n];)n++,e++;const a=(i-n)*this.iFACTOR+1>>>0,o=new Uint8Array(a);for(;n!==i;){let e=t[n],i=0;for(let t=a-1;(0!==e||i<r)&&-1!==t;t--,i++)e+=256*o[t]>>>0,o[t]=e%this.BASE>>>0,e=e/this.BASE>>>0;if(0!==e)throw new Error("Non-zero carry");r=i,n++}let s=a-r;for(;s!==a&&0===o[s];)s++;let u=this.LEADER.repeat(e);for(;s<a;++s)u+=this.ALPHABET.charAt(o[s]);return u}decode(t){const e=this.decodeUnsafe(t);if(e)return e;throw new Error("Non-base"+this.BASE+" character")}decodeUnsafe(t){if(0===t.length)return new Uint8Array(0);let e=0;if(" "===t[e])return new Uint8Array(0);let r=0,n=0;for(;t[e]===this.LEADER;)r++,e++;const i=(t.length-e)*this.FACTOR+1>>>0,a=new Uint8Array(i);for(;t[e];){let r=this.BASE_MAP[t.charCodeAt(e)];if(255===r)return new Uint8Array(0);let o=0;for(let t=i-1;(0!==r||o<n)&&-1!==t;t--,o++)r+=this.BASE*a[t]>>>0,a[t]=r%256>>>0,r=r/256>>>0;if(0!==r)throw new Error("Non-zero carry");n=o,e++}if(" "===t[e])return new Uint8Array(0);let o=i-n;for(;o!==i&&0===a[o];)o++;const s=new Uint8Array(r+(i-o));s.fill(0,0,r);let u=r;for(;o!==i;)s[u++]=a[o++];return s}}},110:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prepare=void 0;class r{constructor(t,e=0){this.data=t,this.position=e}}e.default=r,e.prepare=function(t){return new r(t,0)}},74:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(337));class a extends i.default{constructor(){super(1)}deserialize(t){return 1===super.deserialize(t)[0]?1:0}serialize(t){return super.serialize(new Uint8Array([t?1:0]))}}e.default=a},111:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ByteParser=void 0;const i=n(r(836));class a extends i.default{deserialize(t){return super.deserialize(t)}serialize(t){return super.serialize(t)}}e.ByteParser=a},324:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(736)),a=n(r(337));class o extends a.default{deserialize(t){const e=super.deserialize(t).reverse();let r=(0,i.default)(0);for(const t of e)r=r.shiftLeft(8),r=r.plus(t);return this.size<=6?r.toJSNumber():r.toString()}serialize(t){let e=(0,i.default)(t);const r=[];for(let t=0;t<this.size;t++)r.push(e.and(255).toJSNumber()),e=e.shiftRight(8);return super.serialize(new Uint8Array(r))}}e.default=o},337:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(528)),a=n(r(72));e.default=class{constructor(t){this.size=t}deserialize(t){t.position+=this.size;const e=t.data.slice(t.position-this.size,t.position);if(e.length!==this.size)throw new i.default("FixedParser: read past end");return e}serialize(t){if(t.length!==this.size)throw new a.default("input data does not conform fixed size");return t}}},573:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(337)),a=r(751);class o extends i.default{constructor(t){super(t?8:4),this.isDouble=t}deserialize(t){return this.isDouble?a.readDoubleLE(super.deserialize(t)):a.readFloatLE(super.deserialize(t))}serialize(t){let e=[];return this.isDouble?(a.writeDoubleLE(e,t),super.serialize(new Uint8Array(e))):(a.writeFloatLE(e,t),super.serialize(new Uint8Array(e)))}}e.default=o},940:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(685),a=n(r(836));class o extends a.default{deserialize(t){return(0,i.base58_encode)(super.deserialize(t))}serialize(t){return super.serialize((0,i.base58_decode)(t))}}e.default=o},647:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(836));class a extends i.default{deserialize(t){return(new TextDecoder).decode(super.deserialize(t))}serialize(t){return super.serialize((new TextEncoder).encode(t))}}e.default=a},56:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(736)),a=n(r(528)),o=n(r(72)),s=r(685);e.default=class{constructor(t,e){this.size=t,this.unsigned=e}deserialize(t){let e=(0,s.varint_decode)(t);if(this.unsigned||(e=(0,s.zigzag_decode)(e)),e.greaterOrEquals((0,i.default)(2).pow(8*this.size-(this.unsigned?0:1))))throw new a.default("number '"+e.toString()+"' too large for given type");return this.size<=6?e.toJSNumber():e.toString()}serialize(t){let e=(0,i.default)(t);if(e.greaterOrEquals((0,i.default)(2).pow(8*this.size-(this.unsigned?0:1))))throw new o.default("number '"+e.toString()+"' too large for given type");return this.unsigned||(e=(0,s.zigzag_encode)(e)),(0,s.varint_encode)(e)}}},836:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(528)),a=r(685);e.default=class{deserialize(t){const e=(0,a.varint_decode)(t).toJSNumber();t.position+=e;const r=t.data.slice(t.position-e,t.position);if(r.length!==e)throw new i.default("VariableParser: read past end");return r}serialize(t){return(0,a.concat_byte_arrays)([(0,a.varint_encode)(t.length),t])}}},18:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ParserTypes=void 0;const i=n(r(74)),a=r(111),o=n(r(324)),s=n(r(573)),u=n(r(940)),c=n(r(647)),l=n(r(56));e.ParserTypes={int8:new l.default(1,!1),int16:new l.default(2,!1),int32:new l.default(4,!1),int64:new l.default(8,!1),uint8:new l.default(1,!0),uint16:new l.default(2,!0),uint32:new l.default(4,!0),uint64:new l.default(8,!0),fixed8:new o.default(1),fixed16:new o.default(2),fixed32:new o.default(4),fixed64:new o.default(8),bool:new i.default,bytes:new a.ByteParser,string:new c.default,image:new c.default,ipfs:new u.default,float:new s.default(!1),double:new s.default(!0)}},85:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserialize=e.serialize=void 0;const i=n(r(748)),a=r(685),o=n(r(110));e.serialize=function(t,e){const r=e.serialize(t);return e instanceof i.default?r.slice(0,r.length-1):r},e.deserialize=function(t,e){e instanceof i.default&&(t=(0,a.concat_byte_arrays)([t,(0,a.varint_encode)(0)]));const r=new o.default(t,0);return e.deserialize(r)}},432:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ActionGenerator=e.ExplorerActionGenerator=e.RpcActionGenerator=e.ParserTypes=e.serialize=e.deserialize=e.ObjectSchema=e.ExplorerApi=e.RpcApi=void 0;const i=n(r(311));e.ExplorerActionGenerator=i.default;const a=r(135);Object.defineProperty(e,"ActionGenerator",{enumerable:!0,get:function(){return a.ActionGenerator}});const o=n(r(700));e.RpcActionGenerator=o.default;const s=n(r(307));e.ExplorerApi=s.default;const u=n(r(707));e.RpcApi=u.default;const c=r(577);Object.defineProperty(e,"ObjectSchema",{enumerable:!0,get:function(){return c.ObjectSchema}});const l=r(85);Object.defineProperty(e,"deserialize",{enumerable:!0,get:function(){return l.deserialize}}),Object.defineProperty(e,"serialize",{enumerable:!0,get:function(){return l.serialize}});const p=r(18);Object.defineProperty(e,"ParserTypes",{enumerable:!0,get:function(){return p.ParserTypes}})}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var a=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var n=r(432);atomicassets=n})();